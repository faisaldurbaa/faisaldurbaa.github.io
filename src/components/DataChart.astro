---
import type { ChartData } from 'chart.js';

export interface Props {
  type: 'line' | 'bar';
  data: ChartData;
  title: string;
  id: string;
}

const { type, data, title, id } = Astro.props;
---
<div class="w-full bg-white/50 border border-gray-200/50 rounded-lg shadow-sm p-4 my-8">
  <h3 class="text-lg md:text-xl font-semibold mb-4 text-gray-800 text-center">{title}</h3>
  <div class="relative h-72 md:h-96">
    <canvas 
      id={id}
      data-chart-type={type}
      data-chart-data={JSON.stringify(data)}
      class="opacity-0 transition-opacity duration-500"
    ></canvas>
    <div id={`${id}-loading`} class="absolute inset-0 flex items-center justify-center bg-gray-100 rounded">
      <div class="text-gray-500">Loading chart...</div>
    </div>
  </div>
</div>
