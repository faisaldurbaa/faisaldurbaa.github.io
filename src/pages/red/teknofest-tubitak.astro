---
import Layout from '../../layouts/Layout.astro';
import FadeIn from '../../components/FadeIn.astro';
import competitionProjects, { type CompetitionProject } from '../../data/competitionProjects';

const seo = {
  title: "TEKNOFEST & TUBITAK Project Showcase",
  description: "Flagship TEKNOFEST and TUBITAK competition projects I represented my school with, including concise summaries and report links.",
};

const projects: CompetitionProject[] = competitionProjects;

const themeBadges: Record<CompetitionProject["theme"], { label: string; color: string }> = {
  safety: { label: "Public Safety", color: "bg-rose-100 text-rose-700" },
  health: { label: "Health", color: "bg-emerald-100 text-emerald-700" },
  accessibility: { label: "Accessibility", color: "bg-indigo-100 text-indigo-700" },
  environment: { label: "Environment", color: "bg-amber-100 text-amber-800" },
  education: { label: "Education", color: "bg-sky-100 text-sky-700" },
};
---
<Layout seo={seo}>
  <div class="container mx-auto max-w-6xl px-4 sm:px-8 py-8">
    <FadeIn>
      <section class="bg-white/70 backdrop-blur-sm border border-gray-200/60 rounded-2xl shadow-lg p-5 sm:p-6">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">TEKNOFEST & TUBITAK PROJECT SHOWCASE</h1>
        <p class="text-base text-gray-700 leading-relaxed mb-2">
          Main competition projects I represented my school with across TEKNOFEST and TUBITAK, with concise summaries and direct report links.
        </p>
        <div class="text-sm text-gray-700 space-y-1.5 mb-3">
          <p><span class="font-semibold text-gray-900">TEKNOFEST</span> — Aviation, Space, and Technology Festival; Türkiye's national competition for student-led hardware and software innovation.</p>
          <p><span class="font-semibold text-gray-900">TUBITAK</span> — Scientific and Technological Research Council of Turkey; runs nationwide research project contests for students.</p>
        </div>
        <div class="flex flex-wrap gap-3">
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 text-gray-700 text-sm font-semibold">
            {projects.length} projects
          </span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/10 text-accent text-sm font-semibold">
            Hardware + Software
          </span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-900 text-white text-sm font-semibold">
            Reports linked
          </span>
        </div>
      </section>
    </FadeIn>

    <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">
      {projects.map((project) => {
        const badge = themeBadges[project.theme];
        return (
          <FadeIn>
            <article class="group relative bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg h-full">
              <div class="absolute inset-0 bg-gradient-to-br from-accent/0 via-accent/0 to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <div class="relative p-6 sm:p-7 flex flex-col gap-3 h-full">
                <div class="flex items-start justify-between gap-3">
                  <div class="space-y-1">
                    <p class="text-xs font-semibold uppercase tracking-wide text-gray-500">{project.focus}</p>
                    <h2 class="text-xl font-bold text-gray-900 leading-tight">{project.title}</h2>
                  </div>
                  <span class:list={["px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap min-w-[8ch] text-center", badge.color]}>
                    {badge.label}
                  </span>
                </div>

                <div class="flex flex-wrap gap-2 text-sm text-gray-700">
                  {project.roles.map(role => (
                    <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 font-medium">
                      {role}
                    </span>
                  ))}
                  <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-900 text-white font-semibold">
                    {project.yearTag}
                  </span>
                  {project.achievement && (
                    <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-100 text-amber-800 font-semibold">
                      {project.achievement}
                    </span>
                  )}
                </div>

                <div class="space-y-2 text-gray-700">
                  <p class="text-sm"><span class="font-semibold text-gray-900">Problem:</span> {project.problem}</p>
                  <p class="text-sm"><span class="font-semibold text-gray-900">Solution:</span> {project.solution}</p>
                </div>

                {project.links && (
                  <div class="flex flex-wrap gap-3 pt-2">
                    {project.links.map(link => (
                      <a
                        href={link.href}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 bg-white text-sm font-semibold text-accent hover:border-accent hover:bg-accent/10 transition-all duration-200"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                        </svg>
                        {link.label}
                      </a>
                    ))}
                  </div>
                )}
              </div>
            </article>
          </FadeIn>
        );
      })}
    </div>
  </div>
</Layout>
